"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.highlightNode = highlightNode;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = _interopRequireDefault(require("react"));

function getParts(name, highlight) {
  var nameParts = [];
  var last = 0;
  highlight.forEach(function (_ref) {
    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
        start = _ref2[0],
        end = _ref2[1];

    if (last < start) {
      nameParts.push({
        strong: false,
        text: name.substring(last, start)
      });
    }

    nameParts.push({
      strong: true,
      text: name.substring(start, end + 1)
    });
    last = end + 1;
  });

  if (last < name.length) {
    nameParts.push({
      strong: false,
      text: name.substring(last, name.length)
    });
  }

  return nameParts;
}

function highlightNode(node, style) {
  var name = node.name,
      highlight = node.highlight;

  if (!highlight || !highlight.length) {
    return name;
  }

  var nameParts = getParts(name, highlight);
  return nameParts.filter(function (part) {
    return part.text;
  }).map(function (part, index) {
    var key = "".concat(part.text, "-").concat(index);

    if (part.strong) {
      return _react.default.createElement("strong", {
        key: key,
        style: style.highLightText
      }, part.text);
    }

    return _react.default.createElement("span", {
      key: key
    }, part.text);
  });
}
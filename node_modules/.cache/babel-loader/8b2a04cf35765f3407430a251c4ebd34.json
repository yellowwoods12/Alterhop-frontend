{"ast":null,"code":"import axios from 'axios';\nimport { JOBS, JOBS_ERROR, CLEAR_JOBS_ERROR } from './types';\nexport var jobs = function jobs(payload) {\n  return {\n    type: JOBS,\n    payload: payload\n  };\n};\nexport var jobsError = function jobsError(payload) {\n  return {\n    type: JOBS_ERROR,\n    payload: payload\n  };\n};\nexport var postJob = function postJob(values, url) {\n  return function (dispatch) {\n    var token = localStorage.getItem('token');\n    var headers = {\n      'Content-Type': 'application/json',\n      authorization: token\n    };\n    return axios.post(url, values, {\n      headers: headers\n    }).then(function (res) {\n      if (res.status === 200) {\n        dispatch(jobs(res.data));\n      } else {\n        dispatch(jobsError({\n          err: res.data.message\n        }));\n      }\n    }).catch(function (err) {\n      var re = /40\\d/;\n\n      if (re.test(err.response.status)) {\n        dispatch(jobsError({\n          err: err.response.data.message\n        }));\n      } else {\n        dispatch(jobsError({\n          err: err.message\n        }));\n      }\n    });\n  };\n};\nexport var clearJobError = function clearJobError() {\n  return {\n    type: CLEAR_JOBS_ERROR\n  };\n};","map":{"version":3,"sources":["/home/yellowwoods/Documents/alterhop/frontend/src/containers/Company/Jobs/action.js"],"names":["axios","JOBS","JOBS_ERROR","CLEAR_JOBS_ERROR","jobs","payload","type","jobsError","postJob","values","url","dispatch","token","localStorage","getItem","headers","authorization","post","then","res","status","data","err","message","catch","re","test","response","clearJobError"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,gBAA3B,QAAmD,SAAnD;AAEA,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,OAAD;AAAA,SAAc;AACjCC,IAAAA,IAAI,EAAEL,IAD2B;AAEjCI,IAAAA,OAAO,EAAPA;AAFiC,GAAd;AAAA,CAAb;AAKP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACF,OAAD;AAAA,SAAc;AACtCC,IAAAA,IAAI,EAAEJ,UADgC;AAEtCG,IAAAA,OAAO,EAAPA;AAFsC,GAAd;AAAA,CAAlB;AAKP,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAACC,MAAD,EAASC,GAAT;AAAA,SAAiB,UAACC,QAAD,EAAc;AACrD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMC,OAAO,GAAG;AACf,sBAAgB,kBADD;AAEfC,MAAAA,aAAa,EAAEJ;AAFA,KAAhB;AAIA,WAAOZ,KAAK,CACViB,IADK,CACAP,GADA,EACKD,MADL,EACa;AAAEM,MAAAA,OAAO,EAAPA;AAAF,KADb,EAELG,IAFK,CAEA,UAACC,GAAD,EAAS;AACd,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACvBT,QAAAA,QAAQ,CAACP,IAAI,CAACe,GAAG,CAACE,IAAL,CAAL,CAAR;AACA,OAFD,MAEO;AACNV,QAAAA,QAAQ,CAACJ,SAAS,CAAC;AAAEe,UAAAA,GAAG,EAAEH,GAAG,CAACE,IAAJ,CAASE;AAAhB,SAAD,CAAV,CAAR;AACA;AACD,KARK,EASLC,KATK,CASC,UAACF,GAAD,EAAS;AACf,UAAMG,EAAE,GAAG,MAAX;;AACA,UAAIA,EAAE,CAACC,IAAH,CAAQJ,GAAG,CAACK,QAAJ,CAAaP,MAArB,CAAJ,EAAkC;AACjCT,QAAAA,QAAQ,CAACJ,SAAS,CAAC;AAAEe,UAAAA,GAAG,EAAEA,GAAG,CAACK,QAAJ,CAAaN,IAAb,CAAkBE;AAAzB,SAAD,CAAV,CAAR;AACA,OAFD,MAEO;AACNZ,QAAAA,QAAQ,CAACJ,SAAS,CAAC;AAAEe,UAAAA,GAAG,EAAEA,GAAG,CAACC;AAAX,SAAD,CAAV,CAAR;AACA;AACD,KAhBK,CAAP;AAiBA,GAvBsB;AAAA,CAAhB;AAyBP,OAAO,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAClC,SAAO;AACNtB,IAAAA,IAAI,EAAEH;AADA,GAAP;AAGA,CAJM","sourcesContent":["import axios from 'axios'\nimport { JOBS, JOBS_ERROR, CLEAR_JOBS_ERROR } from './types'\n\nexport const jobs = (payload) => ({\n\ttype: JOBS,\n\tpayload\n})\n\nexport const jobsError = (payload) => ({\n\ttype: JOBS_ERROR,\n\tpayload\n})\n\nexport const postJob = (values, url) => (dispatch) => {\n\tconst token = localStorage.getItem('token')\n\tconst headers = {\n\t\t'Content-Type': 'application/json',\n\t\tauthorization: token\n\t}\n\treturn axios\n\t\t.post(url, values, { headers })\n\t\t.then((res) => {\n\t\t\tif (res.status === 200) {\n\t\t\t\tdispatch(jobs(res.data))\n\t\t\t} else {\n\t\t\t\tdispatch(jobsError({ err: res.data.message }))\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconst re = /40\\d/\n\t\t\tif (re.test(err.response.status)) {\n\t\t\t\tdispatch(jobsError({ err: err.response.data.message }))\n\t\t\t} else {\n\t\t\t\tdispatch(jobsError({ err: err.message }))\n\t\t\t}\n\t\t})\n}\n\nexport const clearJobError = () => {\n\treturn {\n\t\ttype: CLEAR_JOBS_ERROR\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}
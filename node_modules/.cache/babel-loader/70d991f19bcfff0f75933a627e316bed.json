{"ast":null,"code":"import _objectSpread from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yellowwoods/Documents/alterhop/frontend/src/containers/Company/Personal/index.js\";\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport PersonDetails from '../../../components/Company/Personal';\nimport { updateProfile, clearCompProfError, fetchProfile } from './action';\n\nvar Personal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Personal, _Component);\n\n  function Personal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Personal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Personal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      firstname: '',\n      lastname: '',\n      email: '',\n      mobileno: ''\n    };\n    _this.updateUserProps =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var companyMember;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              companyMember = _this.props.companyUserReducer.user.companyMember;\n              _context.next = 3;\n              return _this.setState({\n                firstname: companyMember.firstname ? companyMember.firstname : '',\n                lastname: companyMember.lastname ? companyMember.lastname : '',\n                email: companyMember.email ? companyMember.email : '',\n                mobileno: companyMember.mobileno ? companyMember.mobileno : ''\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.submit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(values) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.setState(_objectSpread({}, _this.state, values));\n\n              case 2:\n                _context2.next = 4;\n                return _this.props.setData(_this.state);\n\n              case 4:\n                _context2.next = 6;\n                return _this.props.updateProfile(_this.state, 'https://api.alterhop.com/api/v1/company/member/update');\n\n              case 6:\n                _context2.next = 8;\n                return _this.props.front();\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(Personal, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.props.loginReducer.type !== 'company') {\n                  this.props.history.push('/');\n                }\n\n                this.setState({\n                  loading: true\n                });\n                _context3.next = 4;\n                return this.props.fetchProfile();\n\n              case 4:\n                this.setState(_objectSpread({}, this.state, this.props.values));\n                _context3.next = 7;\n                return this.updateUserProps();\n\n              case 7:\n                _context3.next = 9;\n                return this.props.setData(this.state);\n\n              case 9:\n                this.setState({\n                  loading: false\n                });\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"Loading ...\");\n      }\n\n      return React.createElement(PersonDetails, {\n        onSubmit: this.submit,\n        initialValues: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Personal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    companyUserReducer: state.companyUserReducer,\n    loginReducer: state.loginReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    updateProfile: updateProfile,\n    clearCompProfError: clearCompProfError,\n    fetchProfile: fetchProfile\n  }, dispatch);\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Personal));","map":{"version":3,"sources":["/home/yellowwoods/Documents/alterhop/frontend/src/containers/Company/Personal/index.js"],"names":["React","Component","bindActionCreators","connect","withRouter","PersonDetails","updateProfile","clearCompProfError","fetchProfile","Personal","state","loading","firstname","lastname","email","mobileno","updateUserProps","companyMember","props","companyUserReducer","user","setState","submit","values","setData","front","loginReducer","type","history","push","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,SAASC,aAAT,EAAwBC,kBAAxB,EAA4CC,YAA5C,QAAgE,UAAhE;;IAEMC,Q;;;;;;;;;;;;;;;;;UACLC,K,GAAQ;AACPC,MAAAA,OAAO,EAAE,KADF;AAEPC,MAAAA,SAAS,EAAE,EAFJ;AAGPC,MAAAA,QAAQ,EAAE,EAHH;AAIPC,MAAAA,KAAK,EAAE,EAJA;AAKPC,MAAAA,QAAQ,EAAE;AALH,K;UAsBRC,e;;;;6BAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAERC,cAAAA,aAFQ,GAGb,MAAKC,KAAL,CAAWC,kBAHE,CAEhBC,IAFgB,CAERH,aAFQ;AAAA;AAAA,qBAIX,MAAKI,QAAL,CAAc;AACnBT,gBAAAA,SAAS,EAAEK,aAAa,CAACL,SAAd,GAA0BK,aAAa,CAACL,SAAxC,GAAoD,EAD5C;AAEnBC,gBAAAA,QAAQ,EAAEI,aAAa,CAACJ,QAAd,GAAyBI,aAAa,CAACJ,QAAvC,GAAkD,EAFzC;AAGnBC,gBAAAA,KAAK,EAAEG,aAAa,CAACH,KAAd,GAAsBG,aAAa,CAACH,KAApC,GAA4C,EAHhC;AAInBC,gBAAAA,QAAQ,EAAEE,aAAa,CAACF,QAAd,GAAyBE,aAAa,CAACF,QAAvC,GAAkD;AAJzC,eAAd,CAJW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UAWlBO,M;;;;;+BAAS,kBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACF,MAAKF,QAAL,mBACF,MAAKX,KADH,EAEFa,MAFE,EADE;;AAAA;AAAA;AAAA,uBAKF,MAAKL,KAAL,CAAWM,OAAX,CAAmB,MAAKd,KAAxB,CALE;;AAAA;AAAA;AAAA,uBAMF,MAAKQ,KAAL,CAAWZ,aAAX,CAAyB,MAAKI,KAA9B,EAAqC,uDAArC,CANE;;AAAA;AAAA;AAAA,uBAOF,MAAKQ,KAAL,CAAWO,KAAX,EAPE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;;;;;;;;AAxBR,oBAAI,KAAKP,KAAL,CAAWQ,YAAX,CAAwBC,IAAxB,KAAiC,SAArC,EAAgD;AAC/C,uBAAKT,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA;;AACD,qBAAKR,QAAL,CAAc;AAAEV,kBAAAA,OAAO,EAAE;AAAX,iBAAd;;uBACM,KAAKO,KAAL,CAAWV,YAAX,E;;;AACN,qBAAKa,QAAL,mBACI,KAAKX,KADT,EAEI,KAAKQ,KAAL,CAAWK,MAFf;;uBAIM,KAAKP,eAAL,E;;;;uBACA,KAAKE,KAAL,CAAWM,OAAX,CAAmB,KAAKd,KAAxB,C;;;AACN,qBAAKW,QAAL,CAAc;AAAEV,kBAAAA,OAAO,EAAE;AAAX,iBAAd;;;;;;;;;;;;;;;;;;6BAsBQ;AACR,UAAI,KAAKD,KAAL,CAAWC,OAAf,EAAwB;AACvB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAP;AACA;;AACD,aAAO,oBAAC,aAAD;AAAe,QAAA,QAAQ,EAAE,KAAKW,MAA9B;AAAsC,QAAA,aAAa,EAAE,KAAKZ,KAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACA;;;;EAhDqBT,S;;AAmDvB,IAAM6B,eAAe,GAAG,SAAlBA,eAAkB,CAACpB,KAAD,EAAW;AAClC,SAAO;AACNS,IAAAA,kBAAkB,EAAET,KAAK,CAACS,kBADpB;AAENO,IAAAA,YAAY,EAAEhB,KAAK,CAACgB;AAFd,GAAP;AAIA,CALD;;AAOA,IAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACxC,SAAO9B,kBAAkB,CAAC;AAAEI,IAAAA,aAAa,EAAbA,aAAF;AAAiBC,IAAAA,kBAAkB,EAAlBA,kBAAjB;AAAqCC,IAAAA,YAAY,EAAZA;AAArC,GAAD,EAAsDwB,QAAtD,CAAzB;AACA,CAFD;;AAIA,eAAe5B,UAAU,CACxBD,OAAO,CACN2B,eADM,EAENC,kBAFM,CAAP,CAGEtB,QAHF,CADwB,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport PersonDetails from '../../../components/Company/Personal'\nimport { updateProfile, clearCompProfError, fetchProfile } from './action'\n\nclass Personal extends Component {\n\tstate = {\n\t\tloading: false,\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\temail: '',\n\t\tmobileno: ''\n\t}\n\n\tasync componentWillMount() {\n\t\tif (this.props.loginReducer.type !== 'company') {\n\t\t\tthis.props.history.push('/')\n\t\t}\n\t\tthis.setState({ loading: true })\n\t\tawait this.props.fetchProfile()\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\t...this.props.values\n\t\t})\n\t\tawait this.updateUserProps()\n\t\tawait this.props.setData(this.state)\n\t\tthis.setState({ loading: false })\n\t}\n\tupdateUserProps = async () => {\n\t\tconst {\n\t\t\tuser: { companyMember }\n\t\t} = this.props.companyUserReducer\n\t\tawait this.setState({\n\t\t\tfirstname: companyMember.firstname ? companyMember.firstname : '',\n\t\t\tlastname: companyMember.lastname ? companyMember.lastname : '',\n\t\t\temail: companyMember.email ? companyMember.email : '',\n\t\t\tmobileno: companyMember.mobileno ? companyMember.mobileno : ''\n\t\t})\n\t}\n\tsubmit = async (values) => {\n\t\tawait this.setState({\n\t\t\t...this.state,\n\t\t\t...values\n\t\t})\n\t\tawait this.props.setData(this.state)\n\t\tawait this.props.updateProfile(this.state, 'https://api.alterhop.com/api/v1/company/member/update')\n\t\tawait this.props.front()\n\t}\n\trender() {\n\t\tif (this.state.loading) {\n\t\t\treturn <div>Loading ...</div>\n\t\t}\n\t\treturn <PersonDetails onSubmit={this.submit} initialValues={this.state} />\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tcompanyUserReducer: state.companyUserReducer,\n\t\tloginReducer: state.loginReducer\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn bindActionCreators({ updateProfile, clearCompProfError, fetchProfile }, dispatch)\n}\n\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Personal)\n)\n"]},"metadata":{},"sourceType":"module"}
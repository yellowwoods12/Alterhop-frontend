{"ast":null,"code":"import axios from 'axios';\nimport { COMP_PROF, COMP_PROF_ERROR, CLEAR_COMP_PROF_ERROR, FETCH_PROF } from './types';\nexport var compProf = function compProf(payload) {\n  return {\n    type: COMP_PROF,\n    payload: payload\n  };\n};\nexport var compProfError = function compProfError(payload) {\n  return {\n    type: COMP_PROF_ERROR,\n    payload: payload\n  };\n};\n\nvar fetchProfileValue = function fetchProfileValue(payload) {\n  return {\n    type: FETCH_PROF,\n    payload: payload\n  };\n};\n\nexport var updateProfile = function updateProfile(values, url) {\n  return function (dispatch) {\n    var token = localStorage.getItem('token');\n    var headers = {\n      'Content-Type': 'application/json',\n      authorization: token\n    };\n    return axios.put(url, values, {\n      headers: headers\n    }).then(function (res) {\n      if (res.status === 200) {\n        dispatch(compProf(res.data));\n      } else {\n        dispatch(compProfError({\n          err: res.data.message\n        }));\n      }\n    }).catch(function (err) {\n      var re = /40\\d/;\n\n      if (re.test(err.response.status)) {\n        dispatch(compProfError({\n          err: err.response.data.message\n        }));\n      } else {\n        dispatch(compProfError({\n          err: err.message\n        }));\n      }\n    });\n  };\n};\nexport var fetchProfile = function fetchProfile() {\n  return function (dispatch) {\n    var token = localStorage.getItem('token');\n    var headers = {\n      'Content-Type': 'application/json',\n      authorization: token\n    };\n    return axios.get('https://api.alterhop.com/api/v1/company/member/profile', {\n      headers: headers\n    }).then(function (res) {\n      // if(res.status === 304 || res.data.message)\n      dispatch(fetchProfileValue({\n        user: res.data\n      }));\n    }).catch(function (err) {\n      var re = /40\\d/;\n\n      if (re.test(err.response.status)) {\n        dispatch(compProfError({\n          err: err.response.data.message\n        }));\n      } else {\n        dispatch(compProfError({\n          err: err.message\n        }));\n      }\n    });\n  };\n};\nexport var clearCompProfError = function clearCompProfError() {\n  return {\n    type: CLEAR_COMP_PROF_ERROR\n  };\n};","map":{"version":3,"sources":["/home/yellowwoods/Documents/alterhop/frontend/src/containers/Company/Personal/action.js"],"names":["axios","COMP_PROF","COMP_PROF_ERROR","CLEAR_COMP_PROF_ERROR","FETCH_PROF","compProf","payload","type","compProfError","fetchProfileValue","updateProfile","values","url","dispatch","token","localStorage","getItem","headers","authorization","put","then","res","status","data","err","message","catch","re","test","response","fetchProfile","get","user","clearCompProfError"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { COMP_PROF, COMP_PROF_ERROR, CLEAR_COMP_PROF_ERROR, FETCH_PROF } from './types'\n\nexport const compProf = (payload) => ({\n\ttype: COMP_PROF,\n\tpayload\n})\n\nexport const compProfError = (payload) => ({\n\ttype: COMP_PROF_ERROR,\n\tpayload\n})\n\nconst fetchProfileValue = (payload) => ({\n\ttype: FETCH_PROF,\n\tpayload\n})\n\nexport const updateProfile = (values, url) => (dispatch) => {\n\tconst token = localStorage.getItem('token')\n\tconst headers = {\n\t\t'Content-Type': 'application/json',\n\t\tauthorization: token\n\t}\n\treturn axios\n\t\t.put(url, values, { headers })\n\t\t.then((res) => {\n\t\t\tif (res.status === 200) {\n\t\t\t\tdispatch(compProf(res.data))\n\t\t\t} else {\n\t\t\t\tdispatch(compProfError({ err: res.data.message }))\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconst re = /40\\d/\n\t\t\tif (re.test(err.response.status)) {\n\t\t\t\tdispatch(compProfError({ err: err.response.data.message }))\n\t\t\t} else {\n\t\t\t\tdispatch(compProfError({ err: err.message }))\n\t\t\t}\n\t\t})\n}\n\nexport const fetchProfile = () => (dispatch) => {\n\tconst token = localStorage.getItem('token')\n\tconst headers = {\n\t\t'Content-Type': 'application/json',\n\t\tauthorization: token\n\t}\n\treturn axios\n\t\t.get('https://api.alterhop.com/api/v1/company/member/profile', { headers })\n\t\t.then((res) => {\n\t\t\t// if(res.status === 304 || res.data.message)\n\t\t\tdispatch(fetchProfileValue({ user: res.data }))\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconst re = /40\\d/\n\t\t\tif (re.test(err.response.status)) {\n\t\t\t\tdispatch(compProfError({ err: err.response.data.message }))\n\t\t\t} else {\n\t\t\t\tdispatch(compProfError({ err: err.message }))\n\t\t\t}\n\t\t})\n}\n\nexport const clearCompProfError = () => {\n\treturn {\n\t\ttype: CLEAR_COMP_PROF_ERROR\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}
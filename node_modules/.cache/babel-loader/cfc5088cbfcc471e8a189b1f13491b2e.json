{"ast":null,"code":"import _regeneratorRuntime from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yellowwoods/Documents/alterhop/frontend/src/containers/Home/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { fetchUser, updateUser, userClearErr } from './action';\nimport { showToast } from '../ToastMessage';\nimport Home from '../../components/Home';\nimport LoadingComponent from '../../components/LoadingComponent';\nimport StaticHome from '../../components/StaticHomepage';\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HomePage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      uiloading: false,\n      loading: false,\n      email: '',\n      username: '',\n      firstname: '',\n      lastname: '',\n      branch: '',\n      cgpa: '',\n      educatioin: '',\n      mobileno: '',\n      technical: [],\n      quant: [],\n      internships: []\n    };\n\n    _this.updateProps = function () {\n      _this.setState({\n        uiloading: true\n      });\n\n      _this.props.fetchUser();\n\n      _this.updateUserProps();\n\n      _this.setState({\n        uiloading: false\n      });\n    };\n\n    _this.handleTechnicalChange = function (values) {\n      _this.setState({\n        technical: values\n      });\n    };\n\n    _this.handleQuantChange = function (values) {\n      _this.setState({\n        quant: values\n      });\n    };\n\n    _this.handleInternshipsChange = function (values) {\n      _this.setState({\n        internships: values\n      });\n    };\n\n    _this.updateUserProps =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var user;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = _this.props.userReducer.user;\n              _context.next = 3;\n              return _this.setState({\n                username: user.username ? user.username : '',\n                email: user.email ? user.email : '',\n                firstname: user.firstname ? user.firstname : '',\n                lastname: user.lastname ? user.lastname : '',\n                branch: user.branch ? user.branch : '',\n                cgpa: user.cgpa ? user.cgpa : '',\n                education: user.education ? user.education : '',\n                technical: user.technical ? user.technical : [],\n                quant: user.quant ? user.quant : [],\n                internships: user.internships ? user.internships : [],\n                mobileno: user.mobileno ? user.mobileno : ''\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.submit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(values) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this.setState({\n                  loading: true\n                });\n\n                values.technical = _this.state.technical;\n                values.internships = _this.state.internships;\n                values.quant = _this.state.quant;\n                _context2.next = 6;\n                return _this.props.updateUser(values);\n\n              case 6:\n                _context2.next = 8;\n                return _this.props.fetchUser();\n\n              case 8:\n                _context2.next = 10;\n                return _this.updateUserProps();\n\n              case 10:\n                _this.setState({\n                  loading: false\n                });\n\n                showToast('Successfully updated your profile', _this.props.userClearErr);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          uiloading = _this$state.uiloading;\n      var _this$props$loginRedu = this.props.loginReducer,\n          loggedIn = _this$props$loginRedu.loggedIn,\n          type = _this$props$loginRedu.type;\n\n      if (uiloading) {\n        return React.createElement(LoadingComponent, {\n          size: 100,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        });\n      }\n\n      if (loggedIn && type === 'student') {\n        // this.updateProps()\n        return React.createElement(Home, {\n          loading: loading,\n          onSubmit: this.submit,\n          data: this.state,\n          handleTechnicalChange: this.handleTechnicalChange,\n          handleQuantChange: this.handleQuantChange,\n          handleInternshipsChange: this.handleInternshipsChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(StaticHome, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userReducer: state.userReducer,\n    loginReducer: state.loginReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    fetchUser: fetchUser,\n    updateUser: updateUser,\n    userClearErr: userClearErr\n  }, dispatch);\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomePage));","map":{"version":3,"sources":["/home/yellowwoods/Documents/alterhop/frontend/src/containers/Home/index.js"],"names":["React","Component","withRouter","bindActionCreators","connect","fetchUser","updateUser","userClearErr","showToast","Home","LoadingComponent","StaticHome","HomePage","state","uiloading","loading","email","username","firstname","lastname","branch","cgpa","educatioin","mobileno","technical","quant","internships","updateProps","setState","props","updateUserProps","handleTechnicalChange","values","handleQuantChange","handleInternshipsChange","user","userReducer","education","submit","loginReducer","loggedIn","type","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { fetchUser, updateUser, userClearErr } from './action'\nimport { showToast } from '../ToastMessage'\nimport Home from '../../components/Home'\nimport LoadingComponent from '../../components/LoadingComponent'\nimport StaticHome from '../../components/StaticHomepage'\n\nclass HomePage extends Component {\n\tstate = {\n\t\tuiloading: false,\n\t\tloading: false,\n\t\temail: '',\n\t\tusername: '',\n\t\tfirstname: '',\n\t\tlastname: '',\n\t\tbranch: '',\n\t\tcgpa: '',\n\t\teducatioin: '',\n\t\tmobileno: '',\n\t\ttechnical: [],\n\t\tquant: [],\n\t\tinternships: []\n\t}\n\n\tasync componentDidMount() {\n\t\t// await this.setState({ uiloading: true })\n\t\t// const { loggedIn } = this.props.loginReducer\n\t\t// if (loggedIn) {\n\t\t// \tawait this.props.fetchUser()\n\t\t// \tawait this.updateUserProps()\n\t\t// }\n\t\t// await this.setState({ uiloading: false })\n\t}\n\n\tupdateProps = () => {\n\t\tthis.setState({ uiloading: true })\n\t\tthis.props.fetchUser()\n\t\tthis.updateUserProps()\n\t\tthis.setState({ uiloading: false })\n\t}\n\thandleTechnicalChange = (values) => {\n\t\tthis.setState({ technical: values })\n\t}\n\n\thandleQuantChange = (values) => {\n\t\tthis.setState({ quant: values })\n\t}\n\n\thandleInternshipsChange = (values) => {\n\t\tthis.setState({ internships: values })\n\t}\n\n\tupdateUserProps = async () => {\n\t\tconst {\n\t\t\tuserReducer: { user }\n\t\t} = this.props\n\t\tawait this.setState({\n\t\t\tusername: user.username ? user.username : '',\n\t\t\temail: user.email ? user.email : '',\n\t\t\tfirstname: user.firstname ? user.firstname : '',\n\t\t\tlastname: user.lastname ? user.lastname : '',\n\t\t\tbranch: user.branch ? user.branch : '',\n\t\t\tcgpa: user.cgpa ? user.cgpa : '',\n\t\t\teducation: user.education ? user.education : '',\n\t\t\ttechnical: user.technical ? user.technical : [],\n\t\t\tquant: user.quant ? user.quant : [],\n\t\t\tinternships: user.internships ? user.internships : [],\n\t\t\tmobileno: user.mobileno ? user.mobileno : ''\n\t\t})\n\t}\n\n\tsubmit = async (values) => {\n\t\tthis.setState({ loading: true })\n\t\tvalues.technical = this.state.technical\n\t\tvalues.internships = this.state.internships\n\t\tvalues.quant = this.state.quant\n\t\tawait this.props.updateUser(values)\n\t\tawait this.props.fetchUser()\n\t\tawait this.updateUserProps()\n\t\tthis.setState({ loading: false })\n\t\tshowToast('Successfully updated your profile', this.props.userClearErr)\n\t}\n\trender() {\n\t\tconst { loading, uiloading } = this.state\n\t\tconst { loggedIn, type } = this.props.loginReducer\n\t\tif (uiloading) {\n\t\t\treturn <LoadingComponent size={100} />\n\t\t}\n\t\tif (loggedIn && type === 'student') {\n\t\t\t// this.updateProps()\n\t\t\treturn (\n\t\t\t\t<Home\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tonSubmit={this.submit}\n\t\t\t\t\tdata={this.state}\n\t\t\t\t\thandleTechnicalChange={this.handleTechnicalChange}\n\t\t\t\t\thandleQuantChange={this.handleQuantChange}\n\t\t\t\t\thandleInternshipsChange={this.handleInternshipsChange}\n\t\t\t\t/>\n\t\t\t)\n\t\t} else {\n\t\t\treturn <StaticHome />\n\t\t}\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuserReducer: state.userReducer,\n\t\tloginReducer: state.loginReducer\n\t}\n}\nconst mapDispatchToProps = (dispatch) => {\n\treturn bindActionCreators({ fetchUser, updateUser, userClearErr }, dispatch)\n}\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(HomePage)\n)\n"]},"metadata":{},"sourceType":"module"}
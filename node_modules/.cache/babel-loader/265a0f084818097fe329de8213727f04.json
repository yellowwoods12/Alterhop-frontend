{"ast":null,"code":"import _objectSpread from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yellowwoods/Documents/alterhop/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yellowwoods/Documents/alterhop/frontend/src/containers/Company/Organization/index.js\";\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport OrganizationDetails from '../../../components/Company/Organization';\nimport { fetchCompany, postCompany } from './action';\n\nvar Organization =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Organization, _Component);\n\n  function Organization() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Organization);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Organization)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      orgname: '',\n      orgdescription: '',\n      orgwebsite: ''\n    };\n    _this.updateUserProps =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var company;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              company = _this.props.organizationReducer.company.company;\n              _context.next = 3;\n              return _this.setState({\n                name: company.name ? company.name : '',\n                website: company.website ? company.website : '',\n                description: company.description ? company.description : ''\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.submit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(values) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.setState(_objectSpread({}, _this.state, values));\n\n              case 2:\n                _context2.next = 4;\n                return _this.props.setData(_this.state);\n\n              case 4:\n                if (_this.props.organizationReducer.company.company) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                _context2.next = 7;\n                return _this.props.postCompany(_this.state, 'https://api.alterhop.com/api/v1/company/create');\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(Organization, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.props.loginReducer.type !== 'company') {\n                  this.props.history.push('/');\n                }\n\n                this.setState({\n                  loading: true\n                });\n                _context3.next = 4;\n                return this.props.fetchCompany();\n\n              case 4:\n                this.setState(_objectSpread({}, this.state, this.props.values));\n                _context3.next = 7;\n                return this.updateUserProps();\n\n              case 7:\n                _context3.next = 9;\n                return this.props.setData(this.state);\n\n              case 9:\n                this.setState({\n                  loading: false\n                });\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          front = _this$props.front,\n          back = _this$props.back;\n\n      if (this.state.loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Loading ...\");\n      }\n\n      return React.createElement(OrganizationDetails, {\n        onSubmit: this.submit,\n        front: front,\n        back: back,\n        initialValues: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Organization;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    organizationReducer: state.organizationReducer,\n    loginReducer: state.loginReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    postCompany: postCompany,\n    fetchCompany: fetchCompany\n  }, dispatch);\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Organization));","map":{"version":3,"sources":["/home/yellowwoods/Documents/alterhop/frontend/src/containers/Company/Organization/index.js"],"names":["React","Component","bindActionCreators","connect","withRouter","OrganizationDetails","fetchCompany","postCompany","Organization","state","loading","orgname","orgdescription","orgwebsite","updateUserProps","company","props","organizationReducer","setState","name","website","description","submit","values","setData","loginReducer","type","history","push","front","back","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport OrganizationDetails from '../../../components/Company/Organization'\nimport { fetchCompany, postCompany } from './action'\n\nclass Organization extends Component {\n\tstate = {\n\t\tloading: false,\n\t\torgname: '',\n\t\torgdescription: '',\n\t\torgwebsite: ''\n\t}\n\tasync componentWillMount() {\n\t\tif (this.props.loginReducer.type !== 'company') {\n\t\t\tthis.props.history.push('/')\n\t\t}\n\t\tthis.setState({ loading: true })\n\t\tawait this.props.fetchCompany()\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\t...this.props.values\n\t\t})\n\t\tawait this.updateUserProps()\n\t\tawait this.props.setData(this.state)\n\t\tthis.setState({ loading: false })\n\t}\n\n\tupdateUserProps = async () => {\n\t\tconst company = this.props.organizationReducer.company.company\n\t\tawait this.setState({\n\t\t\tname: company.name ? company.name : '',\n\t\t\twebsite: company.website ? company.website : '',\n\t\t\tdescription: company.description ? company.description : ''\n\t\t})\n\t}\n\tsubmit = async (values) => {\n\t\tawait this.setState({\n\t\t\t...this.state,\n\t\t\t...values\n\t\t})\n\t\tawait this.props.setData(this.state)\n\t\tif (!this.props.organizationReducer.company.company) {\n\t\t\tawait this.props.postCompany(this.state, 'https://api.alterhop.com/api/v1/company/create')\n\t\t}\n\t}\n\trender() {\n\t\tconst { front, back } = this.props\n\t\tif (this.state.loading) {\n\t\t\treturn <div>Loading ...</div>\n\t\t}\n\t\treturn <OrganizationDetails onSubmit={this.submit} front={front} back={back} initialValues={this.state} />\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\torganizationReducer: state.organizationReducer,\n\t\tloginReducer: state.loginReducer\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn bindActionCreators({ postCompany, fetchCompany }, dispatch)\n}\n\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Organization)\n)\n"]},"metadata":{},"sourceType":"module"}
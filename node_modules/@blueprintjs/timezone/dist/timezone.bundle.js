!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("moment-timezone"),require("@blueprintjs/core"),require("tslib"),require("classnames"),require("react"),require("@blueprintjs/select")):"function"==typeof define&&define.amd?define(["moment-timezone","@blueprintjs/core","tslib","classnames","react","@blueprintjs/select"],t):"object"==typeof exports?exports.Timezone=t(require("moment-timezone"),require("@blueprintjs/core"),require("tslib"),require("classnames"),require("react"),require("@blueprintjs/select")):(e.Blueprint=e.Blueprint||{},e.Blueprint.Timezone=t(e.moment,e.Blueprint.Core,e.tslib,e.classNames,e.React,e.Blueprint.Select))}("undefined"!=typeof self?self:this,function(e,t,n,r,o,i){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};n.d(r,"TIMEZONE_PICKER",function(){return i}),n.d(r,"TIMEZONE_PICKER_POPOVER",function(){return s});var o=n(1),i=o.Classes.getClassNamespace()+"-timezone-picker",s=i+"-popover",a=r,u=n(4),l=n(5),c=n.n(l),p=n(6),f=n(7),m=n(0),d=/^[^-+]/;function v(e,t){var n=t.getTime(),r=m.tz.zone(e),o=m.tz(n,e),i=o.utcOffset(),s=o.format("Z"),a=r.abbr(n);return{abbreviation:d.test(a)?a:void 0,offset:i,offsetAsString:s,population:r.population,timezone:e}}var b={ABBREVIATION:"abbreviation",COMPOSITE:"composite",NAME:"name",OFFSET:"offset"};function h(e,t){var n,r,o,i,s=(n=e,r=m.tz.names().filter(function(e){return/\//.test(e)&&!/Etc\//.test(e)}),o=r.reduce(function(e,t){return e[t]=v(t,n),e},{}),i=r.reduce(function(e,t){var n=o[t],r=e[n.offsetAsString];return(null==r||n.population>o[r].population)&&(e[n.offsetAsString]=t),e},{}),Object.keys(i).map(function(e){return o[i[e]]}).sort(function(e,t){return e.offset-t.offset}).map(z)),a=function(e){var t=m.tz.guess();if(void 0!==t){var n=e.getTime(),r=m.tz(n,t),o=r.format("Z");return{iconName:"locate",key:t+"-local",label:o,text:"Current timezone",timezone:t}}return}(e);return t&&void 0!==a?[a].concat(s):s}function z(e){var t=e.abbreviation,n=e.offsetAsString,r=e.timezone;return{key:r,label:n,text:r+(t?" ("+t+")":""),timezone:r}}var y=f.Select.ofType(),I=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.filterItems=function(e,t){var n=new RegExp(e.replace(/([[()+*?])/g,"\\$1").replace(" ","[ _/\\(\\)]+"),"i");return t.filter(function(e){return n.test(e.text+e.label)})},r.renderItem=function(e,t){var n=t.handleClick,r=t.modifiers;return r.matchesPredicate?p.createElement(o.MenuItem,{key:e.key,active:r.active,icon:e.iconName,text:e.text,label:e.label,onClick:n,shouldDismissPopover:!1}):null},r.handleItemSelect=function(e){return o.Utils.safeInvoke(r.props.onChange,e.timezone)},r.handleQueryChange=function(e){return r.setState({query:e})};var i,s=t.date,a=void 0===s?new Date:s,u=t.showLocalTimezone,l=t.inputProps,c=void 0===l?{}:l;return r.state={query:c.value||""},r.timezoneItems=(i=a,m.tz.names().map(function(e){return v(e,i)}).sort(function(e,t){return e.offset-t.offset}).map(z)),r.initialTimezoneItems=h(a,u),r}return u.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,r=e.inputProps,a=e.popoverProps,l=this.state.query,f=u.__assign({placeholder:"Search for timezones..."},r),m=u.__assign({},a,{popoverClassName:c()(s,a.popoverClassName)});return p.createElement(y,{className:c()(i,t),items:l?this.timezoneItems:this.initialTimezoneItems,itemListPredicate:this.filterItems,itemRenderer:this.renderItem,noResults:p.createElement(o.MenuItem,{disabled:!0,text:"No matching timezones."}),onItemSelect:this.handleItemSelect,resetOnSelect:!0,resetOnClose:!0,popoverProps:m,inputProps:f,disabled:n,onQueryChange:this.handleQueryChange},this.renderButton())},t.prototype.componentWillReceiveProps=function(e){var t=e.date,n=void 0===t?new Date:t,r=e.inputProps,o=void 0===r?{}:r;this.props.showLocalTimezone!==e.showLocalTimezone&&(this.initialTimezoneItems=h(n,e.showLocalTimezone)),void 0!==o.value&&this.state.query!==o.value&&this.setState({query:o.value})},t.prototype.renderButton=function(){var e=this.props,t=e.buttonProps,n=void 0===t?{}:t,r=e.date,i=e.disabled,s=e.placeholder,a=e.value,l=e.valueDisplayFormat,c=a?function(e,t,n){if(e&&m.tz.zone(e)){var r=v(e,t),o=r.abbreviation,i=r.offsetAsString;switch(n){case b.ABBREVIATION:return void 0!==o?o:i;case b.NAME:return e;case b.OFFSET:return i;case b.COMPOSITE:return e+(o?" ("+o+")":"")+" "+i}}}(a,r,l):p.createElement("span",{className:o.Classes.TEXT_MUTED},s);return p.createElement(o.Button,u.__assign({rightIcon:"caret-down",disabled:i,text:c},n))},t.displayName=o.DISPLAYNAME_PREFIX+".TimezonePicker",t.defaultProps={date:new Date,disabled:!1,inputProps:{},placeholder:"Select timezone...",popoverProps:{},showLocalTimezone:!0,valueDisplayFormat:b.OFFSET},t}(o.AbstractPureComponent);n.d(t,"Classes",function(){return a}),n.d(t,"TimezoneDisplayFormat",function(){return b}),n.d(t,"TimezonePicker",function(){return I})},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i}])});